<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="format-detection" content="telephone=no">
<title>jQuery</title>
<link rel="stylesheet" href="../../common/css/reset.css">
<link rel="stylesheet" href="../../common/css/base.css">
<link rel="stylesheet" href="./css/style.css">
</head>
<body>
<div class="wrapper">
  <div class="slider-wrap">
    <div class="slider-area">
      <ul class="slider-list clearfix">
        <li><img src="./img/1.jpg"></li>
        <li><img src="./img/2.jpg"></li>
        <li><img src="./img/3.jpg"></li>
        <li><img src="./img/4.jpg"></li>
      </ul>
      <button type="button" class="slider-ctrl-btn is-prev" data-ctrl="prev"></button>
      <button type="button" class="slider-ctrl-btn is-next" data-ctrl="next"></button>
    </div>
  </div>
</div>
<script src="../../common/js/jquery.js"></script>
<script>
 $(function(){
	var dir = -1;
  var interval = 30000;
  var duration = 700;
	var timer;
	$("ul").prepend($("li:last-child"));
	$("ul").css("left", -600);
	timer = setInterval(slideTimer, interval);
	
	function slideTimer(){ 
		if(dir == -1){
			$("ul").animate({"left" : "-=600px" }, duration, function(){
				$(this).append($("li:first-child"));
				$(this).css("left", -600);
			});
		}else{
			$("ul").animate({"left" : "+=600px" }, duration, function(){
				$(this).prepend($("li:last-child"));
				$(this).css("left", -600);
				dir = -1;
			});
		}
	}

	$(".is-prev").click(function(){
		dir = 1;
		clearInterval(timer);
		timer = setInterval(slideTimer, interval);
		
	
		slideTimer();
	});
	
	
	$(".is-next").click(function(){
		dir = -1;
		clearInterval(timer);
		timer = setInterval(slideTimer, interval);
		
		slideTimer();
	});
});
// [使用するメソッド]
// .animate({}) cssのプロパティを一定時間かけて変化させます。アニメーションです。
// .data() 要素のdata属性を取得します。
// .width() 要素の幅を取得します。
// .length 要素の個数を取得します。
</script>
</body>
</html>
